life--;
if isRanged && life <= 0 && !hasSetAlarm {
	alarm[0] = 1;
}